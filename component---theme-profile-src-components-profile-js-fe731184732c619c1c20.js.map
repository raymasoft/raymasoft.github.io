{"version":3,"sources":["webpack:///../theme-library/index.js","webpack:///../theme-profile/src/Components/Profile.js"],"names":["GetBackendUrl","window","backend","localStorage","getItem","endsWith","Profile","pageContext","parseServerUrl","backendUrl","React","useState","finalUser","setFinalUser","returnUrl","URLSearchParams","location","search","get","formISValid","setFormValidation","Name","FamilyName","CodeMelli","username","Ostan","Shahr","Moaref","NahveAshnaei","Senf","Address","CodePosti","CodeEghtesadi","ShenaseMelli","NameSherkat","NameVahedSenfi","user","setUser","invoices","setInvoice","states","setStates","cities","setCities","nahveAshnaei","setNahveAshnaei","asnaf","setAsnaf","isEditing","setIsEditing","claims","name","document","parts","cookie","split","length","pop","shift","getCookie","sessionToken","JSON","parse","decodeURIComponent","SessionToken","multiCashDownloads","title","url","downloadsUrl","singleCashDownloads","handleInputChange","event","value","target","test","clonedUser","toString","SetRelatedCities","id","stateId","stateName","getElementById","filter","s","GetCities","unshift","useEffect","fetch","headers","applicationId","then","results","json","r","newUser","objectId","fUser","undefined","provinces","SetAllStates","response","ways","map","way","Title","allAsnaf","senf","result","error","authUrl","successInvoices","invoice","paymentResult","sort","a","b","Date","Options","options","option","includes","EmkanatJanebi","op","ShenasehFaalSazi","e","hiddenFileInput","useRef","validationHaghighi","validationHoghoghi","className","onChange","key","type","onClick","method","body","stringify","RefreshToken","setTimeout","relatedLinks","link","startsWith","to","href","ChandSandooghe","d","style","display","ref","console","log","formData","FormData","imagefile","querySelector","append","files","getAll","text","contents","res","dataurl","filename","createElement","setAttribute","click","current","data-title","ProductName","Tarikh","MablaghTaeedShode","replace","ShomarehPeygiri","Object","keys","i","BackupUrl"],"mappings":"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","file":"component---theme-profile-src-components-profile-js-fe731184732c619c1c20.js","sourcesContent":["export function GetBackendUrl() {\n  if (typeof window === \"undefined\") return null;\n  let backend = window.localStorage.getItem(\"backendUrl\");\n  if (backend) {\n    if (!backend.endsWith(\"/\")) backend = backend + \"/\";\n    return backend;\n  }\n  return null;\n}\n","import React from \"react\";\nimport Layout from \"./Layout\";\nimport { SEO } from \"theme-seo\";\nimport { Link } from \"gatsby\";\nimport { GetCities, provinces } from \"./Iran\";\nimport { GetBackendUrl } from \"theme-library\";\n\nconst Profile = ({ pageContext }) => {\n  let parseServerUrl = pageContext.parseServerUrl;\n  const backendUrl = GetBackendUrl();\n  if (backendUrl !== null) parseServerUrl = backendUrl;\n\n  const [finalUser, setFinalUser] = React.useState();\n  const urlParams = new URLSearchParams(\n    typeof window !== \"undefined\" ? window.location.search : \"\"\n  );\n  const returnUrl = urlParams.get(\"returnUrl\");\n\n  const [formISValid, setFormValidation] = React.useState(true);\n\n  const [user, setUser] = React.useState({\n    Name: \"\",\n    FamilyName: \"\",\n    CodeMelli: \"\",\n    username: \"\",\n    Ostan: \"\",\n    Shahr: \"\",\n    Moaref: \"\",\n    NahveAshnaei: \"\",\n    Senf: \"\",\n    Address: \"\",\n    CodePosti: \"\",\n    CodeEghtesadi: \"\",\n    ShenaseMelli: \"\",\n    NameSherkat: \"\",\n    NameVahedSenfi: \"\",\n  });\n  const [invoices, setInvoice] = React.useState([]);\n  const [states, setStates] = React.useState([]);\n  const [cities, setCities] = React.useState([]);\n  const [nahveAshnaei, setNahveAshnaei] = React.useState([]);\n  const [asnaf, setAsnaf] = React.useState([]);\n  const [isEditing, setIsEditing] = React.useState(returnUrl !== null);\n\n  const claims = getCookie(\"Claims\");\n  const sessionToken = claims ? JSON.parse(decodeURIComponent(claims)).SessionToken : null;\n\n  const multiCashDownloads = [\n    { title: \"دانلود نسخه کلاینت \", url: pageContext.downloadsUrl + \"Setup-Local.zip\" },\n    {\n      title: \"دانلود نسخه کلاینت با پیش نیاز \",\n      url: pageContext.downloadsUrl + \"Setup-Local-With-PreRequirement.zip\",\n    },\n    { title: \"دانلود نسخه سرور \", url: pageContext.downloadsUrl + \"Setup-Server.zip\" },\n    {\n      title: \"دانلود نسخه سرور با پیش نیاز \",\n      url: pageContext.downloadsUrl + \"Setup-Server-With-PreRequirement.zip\",\n    },\n  ];\n\n  const singleCashDownloads = [\n    { title: \"دانلود نسخه تک صندوقه \", url: pageContext.downloadsUrl + \"Setup-Local.zip\" },\n    {\n      title: \"دانلود نسخه تک صندوقه با پیش نیاز \",\n      url: pageContext.downloadsUrl + \"Setup-Local-With-PreRequirement.zip\",\n    },\n  ];\n  React.useEffect(function () {\n    if (sessionToken) {\n      fetch(parseServerUrl + \"parse/Users/me\", {\n        headers: {\n          \"X-Parse-Session-Token\": `${sessionToken}`,\n          \"X-Parse-Application-Id\": `${pageContext.applicationId}`,\n        },\n      })\n        .then(function (results) {\n          return results.json();\n        })\n        .then(function (r) {\n          let newUser = {};\n          newUser.objectId = r.objectId;\n          newUser.Name = r.Name || \"\";\n          newUser.FamilyName = r.FamilyName || \"\";\n          newUser.CodeMelli = r.CodeMelli || \"\";\n          newUser.username = r.username || \"\";\n          newUser.Ostan = r.Ostan || \"\";\n          newUser.Shahr = r.Shahr || \"\";\n          newUser.Moaref = r.Moaref || \"\";\n          newUser.NahveAshnaei = r.NahveAshnaei || \"\";\n          newUser.Senf = r.Senf || \"\";\n          newUser.Address = r.Address || \"\";\n          newUser.NameSherkat = r.CodeEghtesadi !== \"\" ? r.NameSherkat || \"\" : \"\";\n          newUser.NameVahedSenfi = r.CodeMelli !== \"\" ? r.NameSherkat || \"\" : \"\";\n          newUser.ShenaseMelli = r.ShenaseMelli || \"\";\n          newUser.CodePosti = r.CodePosti || \"\";\n          newUser.CodeEghtesadi = r.CodeEghtesadi || \"\";\n\n          setUser(newUser);\n\n          const fUser = { ...user };\n          fUser.NameSherkat = user.NameSherkat || user.NameVahedSenfi;\n          fUser.NameVahedSenfi = undefined;\n\n          setFinalUser(fUser);\n\n          SetAllStates(newUser);\n\n          SetAllNahveAshnaei();\n          SetAllAsnaf();\n        })\n        .then(function () {\n          fetch(parseServerUrl + \"parse/classes/Invoice\", {\n            headers: {\n              \"X-Parse-Application-Id\": `${pageContext.applicationId}`,\n              \"X-Parse-Session-Token\": `${sessionToken}`,\n            },\n          })\n            .then(function (response) {\n              return response.json();\n            })\n            .then(function (result) {\n              if (result.error === \"Invalid session token\") {\n                window.location = pageContext.authUrl + \"?returnUrl=\" + window.location;\n              }\n\n              fetch(parseServerUrl + \"parse/classes/Option\", {\n                headers: {\n                  \"X-Parse-Application-Id\": `${pageContext.applicationId}`,\n                },\n              })\n                .then(function (response) {\n                  return response.json();\n                })\n                .then(function (r) {\n                  let successInvoices = result.results\n                    .filter((invoice) => invoice.paymentResult !== undefined)\n                    .sort((a, b) => new Date(b.Date) - new Date(a.Date))\n                    .map((invoice) => {\n                      if (invoice.Options) {\n                        const options = r.results.filter((option) =>\n                          invoice.Options.split(\",\").includes(option.objectId)\n                        );\n                        invoice.EmkanatJanebi = options.map((op) => op.Title);\n                      }\n                      try {\n                        invoice.ShenasehFaalSazi = JSON.parse(invoice.ShenasehFaalSazi);\n                      } catch (e) {\n                        invoice.ShenasehFaalSazi = {\n                          \"-\": invoice.ShenasehFaalSazi ? invoice.ShenasehFaalSazi : \"ایجاد نشده\",\n                        };\n                      }\n                      return invoice;\n                    });\n                  setInvoice(successInvoices);\n                });\n            });\n        });\n    }\n  }, []);\n\n  function getCookie(name) {\n    if (typeof document === \"undefined\") return;\n    const value = `; ${document.cookie}`;\n    const parts = value.split(`; ${name}=`);\n    if (parts.length === 2) return parts.pop().split(\";\").shift();\n  }\n\n  function Edit() {\n    setIsEditing(true);\n  }\n\n  function Cancel() {\n    setIsEditing(false);\n    setUser({ ...finalUser });\n  }\n\n  function Save() {\n    if (returnUrl && !user.CodeMelli && !user.CodeEghtesadi) {\n      setFormValidation(false);\n      return;\n    } else if (\n      returnUrl &&\n      user.CodeMelli &&\n      (user.Name === \"\" ||\n        user.NameVahedSenfi === \"\" ||\n        user.Shahr === \"\" ||\n        user.Ostan === \"\" ||\n        user.FamilyName === \"\" ||\n        user.username === \"\" ||\n        user.Senf === \"\")\n    ) {\n      setFormValidation(false);\n      return;\n    } else if (\n      returnUrl &&\n      user.CodeEghtesadi &&\n      (user.ShenaseMelli === \"\" ||\n        user.Address === \"\" ||\n        user.NameSherkat === \"\" ||\n        user.CodePosti === \"\")\n    ) {\n      setFormValidation(false);\n      return;\n    } else setFormValidation(true);\n\n    const fUser = { ...user };\n    fUser.NameSherkat = user.NameSherkat || user.NameVahedSenfi;\n    fUser.NameVahedSenfi = undefined;\n\n    setFinalUser(fUser);\n\n    fetch(parseServerUrl + \"/parse/Users/\" + user.objectId, {\n      method: \"PUT\",\n      headers: {\n        \"X-Parse-Application-Id\": `${pageContext.applicationId}`,\n        \"X-Parse-Session-Token\": `${sessionToken}`,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(fUser),\n    })\n      .then(function (response) {\n        return response.json();\n      })\n      .then(function (result) {\n        setIsEditing(false);\n        window.RefreshToken(pageContext.authUrl);\n        if (returnUrl) {\n          setTimeout(() => {\n            window.location = returnUrl;\n          }, 4000);\n        }\n      });\n  }\n\n  function handleInputChange(event) {\n    let value = event.target.value;\n    if (\n      event.target.name === \"CodeMelli\" ||\n      event.target.name === \"username\" ||\n      event.target.name === \"CodeEghtesadi\" ||\n      event.target.name === \"CodePosti\" ||\n      event.target.name === \"ShenaseMelli\"\n    ) {\n      if (value !== \"\" && !/^[0-9\\b]+$/.test(value)) {\n        return;\n      }\n    }\n\n    const clonedUser = { ...user };\n    clonedUser[event.target.name] = value.toString();\n    setUser(clonedUser);\n  }\n\n  function NumberWithCommas(x) {\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n  }\n\n  function SetAllStates(user) {\n    provinces.unshift({ id: \"*\", name: \"\" });\n    setStates(provinces);\n    if (user.Ostan) {\n      let stateId = provinces.filter((s) => s.name === user.Ostan)[0].id;\n      SetRelatedCities(stateId, user.Shahr);\n    }\n  }\n\n  function SetRelatedCities(id) {\n    let stateId = id;\n    if (!id) {\n      let stateName = document.getElementById(\"states\").value;\n\n      const clonedUser = { ...user };\n      clonedUser[\"Ostan\"] = stateName;\n      clonedUser[\"Shahr\"] = \"\";\n      setUser(clonedUser);\n\n      if (stateName) stateId = states.filter((s) => s.name === stateName)[0].id;\n    }\n    if (stateId) {\n      let cities = GetCities(stateId);\n      cities.unshift({ id: \"*\", name: \"\" });\n      setCities(cities);\n    } else {\n      setCities([]);\n    }\n  }\n\n  function SetAllNahveAshnaei() {\n    fetch(parseServerUrl + \"parse/classes/NahveAshnaei\", {\n      headers: {\n        \"X-Parse-Application-Id\": `${pageContext.applicationId}`,\n      },\n    })\n      .then(function (response) {\n        return response.json();\n      })\n      .then(function (response) {\n        let ways = response.results.map((way) => way.Title);\n        ways.unshift(\"\");\n        setNahveAshnaei(ways);\n      });\n  }\n\n  function SetAllAsnaf() {\n    fetch(parseServerUrl + \"parse/classes/Asnaf\", {\n      headers: {\n        \"X-Parse-Application-Id\": `${pageContext.applicationId}`,\n      },\n    })\n      .then(function (response) {\n        return response.json();\n      })\n      .then(function (response) {\n        let allAsnaf = response.results.map((senf) => senf.Title);\n        allAsnaf.unshift(\"\");\n        setAsnaf(allAsnaf);\n      });\n  }\n\n  const hiddenFileInput = React.useRef(null);\n  \n  const handleClick = event => {\n    hiddenFileInput.current.click();\n  };\n\n  function download(dataurl, filename) {\n    var a = document.createElement(\"a\");\n    a.href = dataurl;\n    a.setAttribute(\"download\", filename);\n    a.click();\n    return false;\n}\n\nfunction submit() {\n  console.log(\"submit\");\n    var formData = new FormData();\n    var imagefile = document.querySelector('#file');\n    formData.append(\"file\", imagefile.files[0]);\n\n    formData.getAll('file')[0].text().then(contents => {\n\n        fetch('https://licensing.raymasoft.com/LicenseService.svc/License', {\n                method: \"POST\",\n                body: contents,\n        })\n        .then(res => res.text())\n        .then(function(text){\n            download(\"data:text/plain,\" + text, \"activationCode.rsf\")\n        });\n    })\n    \n}\n  const validationHaghighi = !formISValid && user.CodeMelli && returnUrl;\n  const validationHoghoghi = !formISValid && user.CodeEghtesadi && returnUrl;\n  return (\n    <Layout>\n      <SEO title={pageContext.title} />\n      <div className=\"my-8 p-2 mx-auto\">\n        {returnUrl && (\n          <div className=\"my-10 text-gray-600 font-bold w-4/5 mx-auto\">\n            <label>تکمیل اطلاعات کاربری جهت ادامه فرایند خرید الزامی است.</label>\n          </div>\n        )}\n\n        <form className=\"text-gray-600 my-10 mx-auto w-11/12 lg:w-3/4\">\n          <fieldset className=\"shadow-md border-gray-300 border-2 border-double p-8 pt-4 pr-4\">\n            <legend className=\"text-xl font-bold\">اطلاعات حقیقی</legend>\n            {!formISValid && returnUrl && (user.CodeMelli || user.CodeEghtesadi) && (\n              <label className=\"text-sm text-red-800\">\n                پر کردن فیلد های ستاره دار الز امی است.\n              </label>\n            )}\n            {!formISValid && returnUrl && !user.CodeMelli && !user.CodeEghtesadi && (\n              <label className=\"text-sm text-red-800\">\n                جهت ادامه فرایند خرید پرکردن فیلد کد ملی برای شخص حقیقی و یا کد اقتصادی برای شخص\n                حقوقی الزامی است.\n              </label>\n            )}\n            <div className=\"flex flex-col lg:flex-row\">\n              <div className=\"w-full mx-3\">\n                <label\n                  className={\n                    ((validationHaghighi || validationHoghoghi) && user.Name === \"\"\n                      ? \"text-red-800\"\n                      : \"\") + \" block font-bold my-2 \"\n                  }\n                >\n                  نام\n                  <span className=\"font-medium\">{!isEditing ? \" :  \" + user.Name : \"\"}</span>\n                  {(validationHaghighi || validationHoghoghi) && user.Name === \"\" ? (\n                    <span className=\"text-red-800 m-1\">*</span>\n                  ) : (\n                    \"\"\n                  )}\n                </label>\n                {isEditing && (\n                  <input\n                    className={\n                      ((validationHaghighi || validationHoghoghi) && user.Name === \"\"\n                        ? \"border-red-700\"\n                        : \"\") +\n                      \" shadow appearance-none border rounded w-full py-2 px-3 leading-tight focus:outline-none focus:shadow-outline\"\n                    }\n                    value={user.Name}\n                    onChange={handleInputChange}\n                    name={\"Name\"}\n                  />\n                )}\n              </div>\n              <div className=\"w-full mx-3\">\n                <label\n                  className={\n                    ((validationHaghighi || validationHoghoghi) && user.FamilyName === \"\"\n                      ? \"text-red-800\"\n                      : \"\") + \" block font-bold my-2 \"\n                  }\n                >\n                  نام خانوادگی\n                  <span className=\"font-medium\">{!isEditing ? \" :  \" + user.FamilyName : \"\"}</span>\n                  {(validationHaghighi || validationHoghoghi) && user.FamilyName === \"\" ? (\n                    <span className=\"text-red-800 m-1\">*</span>\n                  ) : (\n                    \"\"\n                  )}\n                </label>\n                {isEditing && (\n                  <input\n                    className={\n                      ((validationHaghighi || validationHoghoghi) && user.FamilyName === \"\"\n                        ? \"border-red-700\"\n                        : \"\") +\n                      \" shadow appearance-none border rounded w-full py-2 px-3 leading-tight focus:outline-none focus:shadow-outline\"\n                    }\n                    value={user.FamilyName}\n                    onChange={handleInputChange}\n                    name={\"FamilyName\"}\n                  />\n                )}\n              </div>\n            </div>\n            <div className=\"flex flex-col lg:flex-row mt-4\">\n              <div className=\"w-full mx-3\">\n                <label\n                  className={\n                    (!formISValid && user.CodeEghtesadi === \"\" && returnUrl && user.CodeMelli === \"\"\n                      ? \"text-red-800\"\n                      : \"\") + \" block font-bold my-2 \"\n                  }\n                >\n                  کد ملی\n                  <span className=\"font-medium\">{!isEditing ? \" :  \" + user.CodeMelli : \"\"}</span>\n                  {!formISValid &&\n                    user.CodeEghtesadi === \"\" &&\n                    returnUrl &&\n                    user.CodeMelli === \"\" && <span className=\"text-red-800 m-1\">*</span>}\n                </label>\n                {isEditing && (\n                  <input\n                    className={\n                      (!formISValid &&\n                      user.CodeEghtesadi === \"\" &&\n                      returnUrl &&\n                      user.CodeMelli === \"\"\n                        ? \"border-red-700\"\n                        : \"\") +\n                      \" shadow appearance-none border rounded w-full py-2 px-3  leading-tight focus:outline-none focus:shadow-outline\"\n                    }\n                    value={user.CodeMelli}\n                    onChange={handleInputChange}\n                    name={\"CodeMelli\"}\n                  />\n                )}\n              </div>\n              <div className=\"w-full mx-3\">\n                <label\n                  className={\n                    ((validationHaghighi || validationHoghoghi) && user.username === \"\"\n                      ? \"text-red-800\"\n                      : \"\") + \" block font-bold my-2 \"\n                  }\n                >\n                  شماره موبایل\n                  <span className=\"font-medium\">{!isEditing ? \" :  \" + user.username : \"\"}</span>\n                  {(validationHaghighi || validationHoghoghi) && user.username === \"\" ? (\n                    <span className=\"text-red-800 m-1\">*</span>\n                  ) : (\n                    \"\"\n                  )}\n                </label>\n                {isEditing && (\n                  <input\n                    className={\n                      ((validationHaghighi || validationHoghoghi) && user.username === \"\"\n                        ? \"border-red-700\"\n                        : \"\") +\n                      \" shadow appearance-none border rounded w-full py-2 px-3 leading-tight focus:outline-none focus:shadow-outline\"\n                    }\n                    value={user.username}\n                    onChange={handleInputChange}\n                    name={\"username\"}\n                  />\n                )}\n              </div>\n            </div>\n            <div className=\"flex flex-col lg:flex-row mt-4\">\n              <div className=\"w-full mx-3\">\n                <label\n                  className={\n                    (validationHaghighi && !validationHoghoghi && user.NameVahedSenfi === \"\"\n                      ? \"text-red-800\"\n                      : \"\") + \" block font-bold my-2 \"\n                  }\n                >\n                  نام واحد صنفی\n                  <span className=\"font-medium\">\n                    {!isEditing ? \" :  \" + user.NameVahedSenfi : \"\"}\n                  </span>\n                  {validationHaghighi && !validationHoghoghi && user.NameVahedSenfi === \"\" ? (\n                    <span className=\"text-red-800 m-1\">*</span>\n                  ) : (\n                    \"\"\n                  )}\n                </label>\n                {isEditing && (\n                  <input\n                    className={\n                      (validationHaghighi && !validationHoghoghi && user.NameVahedSenfi === \"\"\n                        ? \"border-red-700\"\n                        : \"\") +\n                      \" shadow appearance-none border rounded w-full py-2 px-3 leading-tight focus:outline-none focus:shadow-outline\"\n                    }\n                    value={user.NameVahedSenfi}\n                    onChange={handleInputChange}\n                    name={\"NameVahedSenfi\"}\n                  />\n                )}\n              </div>\n              <div className=\"w-full mx-3\">\n                <label\n                  className={\n                    ((validationHoghoghi || validationHaghighi) && user.Senf === \"\"\n                      ? \"text-red-800\"\n                      : \"\") + \" block font-bold my-2 \"\n                  }\n                >\n                  صنف\n                  <span className=\"font-medium\">{!isEditing ? \" :  \" + user.Senf : \"\"}</span>\n                  {(validationHoghoghi || validationHaghighi) && user.Senf === \"\" && (\n                    <span className=\"text-red-800 m-1\">*</span>\n                  )}\n                </label>\n                {isEditing && (\n                  <select\n                    name=\"Senf\"\n                    id=\"Senf\"\n                    onChange={handleInputChange}\n                    value={user.Senf}\n                    className={\n                      ((validationHoghoghi || validationHaghighi) && user.Senf === \"\"\n                        ? \"border-red-700\"\n                        : \"\") + \" w-full border shadow rounded h-10 focus:shadow-outline\"\n                    }\n                  >\n                    {asnaf.length > 0 &&\n                      asnaf.map((s) => (\n                        <option className=\"hover:bg-teal-500\" key={s} id={s} value={s}>\n                          {s}\n                        </option>\n                      ))}\n                  </select>\n                )}\n              </div>\n            </div>\n            <div className=\"flex flex-col lg:flex-row mt-4\">\n              <div className=\"w-full mx-3\">\n                <label\n                  className={\n                    ((validationHaghighi || validationHoghoghi) && user.Ostan === \"\"\n                      ? \"text-red-800\"\n                      : \"\") + \" block font-bold my-2\"\n                  }\n                >\n                  استان\n                  <span className=\"font-medium\">{!isEditing ? \" :  \" + user.Ostan : \"\"}</span>\n                  {!formISValid && user.CodeMelli && user.Ostan === \"\" ? (\n                    <span className=\"text-red-800 m-1\">*</span>\n                  ) : (\n                    \"\"\n                  )}\n                </label>\n                {isEditing && (\n                  <select\n                    id=\"states\"\n                    name=\"states\"\n                    onChange={() => SetRelatedCities(null, null)}\n                    value={user.Ostan}\n                    className={\n                      ((validationHaghighi || validationHoghoghi) && user.Ostan === \"\"\n                        ? \"border-red-700\"\n                        : \"\") + \" w-full border shadow rounded h-10 focus:shadow-outline\"\n                    }\n                  >\n                    {states.map((s) => (\n                      <option className=\"hover:bg-teal-500\" key={s.id} id={s.id} value={s.name}>\n                        {s.name}\n                      </option>\n                    ))}\n                  </select>\n                )}\n              </div>\n              <div className=\"w-full mx-3\">\n                <label\n                  className={\n                    ((validationHaghighi || validationHoghoghi) && user.Shahr === \"\"\n                      ? \"text-red-800\"\n                      : \"\") + \" block font-bold my-2\"\n                  }\n                >\n                  شهر\n                  <span className=\"font-medium\">{!isEditing ? \" :  \" + user.Shahr : \"\"}</span>\n                  {(validationHaghighi || validationHoghoghi) && user.Shahr === \"\" ? (\n                    <span className=\"text-red-800 m-1\">*</span>\n                  ) : (\n                    \"\"\n                  )}\n                </label>\n                {isEditing && (\n                  <select\n                    name=\"Shahr\"\n                    id=\"cities\"\n                    onChange={handleInputChange}\n                    value={user.Shahr}\n                    className={\n                      ((validationHaghighi || validationHoghoghi) && user.Shahr === \"\"\n                        ? \"border-red-700\"\n                        : \"\") + \" w-full border shadow rounded h-10 focus:shadow-outline\"\n                    }\n                  >\n                    {cities.length > 0 &&\n                      cities.map((s) => (\n                        <option className=\"hover:bg-teal-500\" key={s.id} id={s.id} value={s.name}>\n                          {s.name}\n                        </option>\n                      ))}\n                  </select>\n                )}\n              </div>\n            </div>\n            <div className=\"flex flex-col lg:flex-row mt-4\">\n              <div className=\"w-full mx-3\">\n                <label className=\"block font-bold my-2\">\n                  معرف\n                  <span className=\"font-medium\">{!isEditing ? \" :  \" + user.Moaref : \"\"}</span>\n                </label>\n                {isEditing && (\n                  <input\n                    className=\"shadow appearance-none border rounded w-full py-2 px-3 leading-tight focus:outline-none focus:shadow-outline\"\n                    value={user.Moaref}\n                    onChange={handleInputChange}\n                    name={\"Moaref\"}\n                  />\n                )}\n              </div>\n              <div className=\"w-full mx-3\">\n                <label className=\"block font-bold my-2\">\n                  طریقه آشنایی\n                  <span className=\"font-medium\">\n                    {!isEditing ? \" :  \" + user.NahveAshnaei : \"\"}\n                  </span>\n                </label>\n                {isEditing && (\n                  <select\n                    name=\"NahveAshnaei\"\n                    id=\"NahveAshnaei\"\n                    onChange={handleInputChange}\n                    value={user.NahveAshnaei}\n                    className=\"w-full border shadow rounded h-10 focus:shadow-outline\"\n                  >\n                    {nahveAshnaei.length > 0 &&\n                      nahveAshnaei.map((s) => (\n                        <option className=\"hover:bg-teal-500\" key={s} id={s} value={s}>\n                          {s}\n                        </option>\n                      ))}\n                  </select>\n                )}\n              </div>\n            </div>\n            <fieldset className=\"shadow-md border-gray-300 border-2 p-8 pr-6 pt-4 mt-6 \">\n              <legend className=\"text-xl font-bold \">اطلاعات حقوقی</legend>\n              <div className=\"flex flex-col lg:flex-row\">\n                <div className=\"w-full mx-3\">\n                  <label\n                    className={\n                      (validationHoghoghi && user.NameSherkat === \"\" ? \"text-red-800\" : \"\") +\n                      \" block font-bold my-2 \"\n                    }\n                  >\n                    {\" \"}\n                    نام شرکت\n                    <span className=\"font-medium\">\n                      {!isEditing ? \" :  \" + user.NameSherkat : \"\"}\n                    </span>\n                    {validationHoghoghi && user.NameSherkat === \"\" && (\n                      <span className=\"text-red-800 m-1\">*</span>\n                    )}\n                  </label>\n                  {isEditing && (\n                    <input\n                      className={\n                        (validationHoghoghi && user.NameSherkat === \"\" ? \"border-red-700\" : \"\") +\n                        \" shadow appearance-none border rounded w-full py-2 px-3 leading-tight focus:outline-none focus:shadow-outline\"\n                      }\n                      value={user.NameSherkat}\n                      onChange={handleInputChange}\n                      name={\"NameSherkat\"}\n                    />\n                  )}\n                </div>\n                <div className=\"w-full mx-3\">\n                  <label\n                    className={\n                      (validationHoghoghi && user.ShenaseMelli === \"\" ? \"text-red-800\" : \"\") +\n                      \" block font-bold my-2 \"\n                    }\n                  >\n                    {\" \"}\n                    شناسه ملی\n                    <span className=\"font-medium\">\n                      {!isEditing ? \" :  \" + user.ShenaseMelli : \"\"}\n                    </span>\n                    {validationHoghoghi && user.ShenaseMelli === \"\" && (\n                      <span className=\"text-red-800 m-1\">*</span>\n                    )}\n                  </label>\n                  {isEditing && (\n                    <input\n                      className={\n                        (validationHoghoghi && user.ShenaseMelli === \"\" ? \"border-red-700\" : \"\") +\n                        \" shadow appearance-none border rounded w-full py-2 px-3 leading-tight focus:outline-none focus:shadow-outline\"\n                      }\n                      value={user.ShenaseMelli}\n                      onChange={handleInputChange}\n                      name={\"ShenaseMelli\"}\n                    />\n                  )}\n                </div>\n              </div>\n              <div className=\"flex flex-col lg:flex-row\">\n                <div className=\"w-full mx-3\">\n                  <label\n                    className={\n                      (validationHoghoghi && user.CodePosti === \"\" ? \"text-red-800\" : \"\") +\n                      \" block font-bold my-2 \"\n                    }\n                  >\n                    کد پستی\n                    <span className=\"font-medium\">{!isEditing ? \" :  \" + user.CodePosti : \"\"}</span>\n                    {validationHoghoghi && user.CodePosti === \"\" && (\n                      <span className=\"text-red-800 m-1\">*</span>\n                    )}\n                  </label>\n                  {isEditing && (\n                    <input\n                      className={\n                        (validationHoghoghi && user.CodePosti === \"\" ? \"border-red-700\" : \"\") +\n                        \" shadow appearance-none border rounded w-full py-2 px-3 leading-tight focus:outline-none focus:shadow-outline\"\n                      }\n                      value={user.CodePosti}\n                      onChange={handleInputChange}\n                      name={\"CodePosti\"}\n                    />\n                  )}\n                </div>\n                <div className=\"w-full mx-3\">\n                  <label\n                    className={\n                      (!formISValid &&\n                      user.CodeMelli === \"\" &&\n                      returnUrl &&\n                      user.CodeEghtesadi === \"\"\n                        ? \"text-red-800\"\n                        : \"\") + \" block font-bold my-2 \"\n                    }\n                  >\n                    کد اقتصادی\n                    <span className=\"font-medium\">\n                      {!isEditing ? \" :  \" + user.CodeEghtesadi : \"\"}\n                    </span>\n                    {!formISValid &&\n                      user.CodeMelli === \"\" &&\n                      returnUrl &&\n                      user.CodeEghtesadi === \"\" && <span className=\"text-red-800 m-1\">*</span>}\n                  </label>\n                  {isEditing && (\n                    <input\n                      className={\n                        (!formISValid &&\n                        user.CodeMelli === \"\" &&\n                        returnUrl &&\n                        user.CodeEghtesadi === \"\"\n                          ? \"border-red-700\"\n                          : \"\") +\n                        \" shadow appearance-none border rounded w-full py-2 px-3 leading-tight focus:outline-none focus:shadow-outline\"\n                      }\n                      value={user.CodeEghtesadi}\n                      onChange={handleInputChange}\n                      name={\"CodeEghtesadi\"}\n                    />\n                  )}\n                </div>\n              </div>\n              <div className=\"flex flex-col lg:flex-row\">\n                <div className=\"w-full mx-3\">\n                  <label\n                    className={\n                      (validationHoghoghi && user.Address === \"\" ? \"text-red-800\" : \"\") +\n                      \" block font-bold my-2 \"\n                    }\n                  >\n                    آدرس\n                    <span className=\"font-medium\">{!isEditing ? \" :  \" + user.Address : \"\"}</span>\n                    {validationHoghoghi && user.Address === \"\" && (\n                      <span className=\"text-red-800 m-1\">*</span>\n                    )}\n                  </label>\n                  {isEditing && (\n                    <input\n                      className={\n                        (validationHoghoghi && user.Address === \"\" ? \"border-red-700\" : \"\") +\n                        \" shadow appearance-none border rounded w-full py-2 px-3 leading-tight focus:outline-none focus:shadow-outline\"\n                      }\n                      value={user.Address}\n                      onChange={handleInputChange}\n                      name={\"Address\"}\n                    />\n                  )}\n                </div>\n              </div>\n            </fieldset>\n            {!isEditing && !returnUrl && (\n              <button\n                className=\"bg-teal-600 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-lg my-8 ml-4\"\n                type=\"button\"\n                onClick={Edit}\n              >\n                ویرایش اطلاعات کاربری\n              </button>\n            )}\n            {isEditing && (\n              <button\n                className=\"bg-teal-600 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-lg my-8 ml-4\"\n                type=\"button\"\n                onClick={Save}\n              >\n                {returnUrl ? \"ثبت و ادامه فرایند خرید\" : \"ثبت اطلاعات کاربری\"}\n              </button>\n            )}\n            {isEditing && !returnUrl && (\n              <button\n                className=\"bg-teal-600 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-lg my-8\"\n                type=\"button\"\n                onClick={Cancel}\n              >\n                انصراف\n              </button>\n            )}\n          </fieldset>\n        </form>\n        {invoices && invoices.length > 0 && (\n          <div>\n            {pageContext.relatedLinks && (\n              <div className=\"w-11/12 lg:w-4/5 mx-auto\">\n                <div className=\"my-10 bg-teal-600 h-10\">\n                  <p className=\"text-white pr-3 pt-1 text-xl\">نصب و راه اندازی سیستم</p>\n                </div>\n                <div className=\"my-6\">\n                  <span className=\"text-gray-600 text-lg my-4 pr-3\">\n                    جهت نصب و راه اندازی سیستم به لینک های زیر مراجعه نمایید.\n                  </span>\n                </div>\n                {pageContext.relatedLinks.map((link) =>\n                  link.url.startsWith(\"/\") ? (\n                    <Link\n                      className=\"mx-4 my-4 block text-center lg:inline border bg-orange-500 text-white rounded-full py-2 px-4 shadow-lg\"\n                      to={link.url}\n                    >\n                      {link.title}\n                    </Link>\n                  ) : (\n                    <a\n                      className=\"mx-4 my-4 block text-center lg:inline border bg-orange-500 text-white rounded-full py-2 px-4 shadow-lg\"\n                      href={link.url}\n                    >\n                      {link.title}\n                    </a>\n                  )\n                )}\n              </div>\n            )}\n            {invoices.filter((invoice) => !invoice.ChandSandooghe).length > 0 && (\n              <div className=\"w-11/12 lg:w-4/5 mx-auto my-8\">\n                <div className=\"my-10 bg-teal-600 h-10\">\n                  <p className=\"text-white pr-3 pt-1 text-xl\">دانلود نرم افزار تک صندوقه</p>\n                </div>\n                <div className=\"my-6\">\n                  <p className=\"text-gray-600 text-lg my-4 pr-3\">\n                    در صورتیکه Net Framework 4.8. و SQL Server 2012 و یا نسخه بالاتر بر روی کامپیوتر\n                    خود ندارید نسخه فایل نصب همراه با پیش نیاز را دانلود نمایید.{\" \"}\n                  </p>\n                </div>\n                {singleCashDownloads.map((d) => (\n                  <a\n                    className=\"mx-4 my-4 block text-center lg:inline border bg-orange-500 text-white rounded-full py-2 px-4 shadow-lg\"\n                    href={d.url}\n                  >\n                    {d.title}\n                  </a>\n                ))}\n              </div>\n            )}\n            {invoices.filter((invoice) => invoice.ChandSandooghe).length > 0 && (\n              <div className=\"w-11/12 lg:w-4/5 mx-auto\">\n                <div className=\"my-10 bg-teal-600 h-10\">\n                  <p className=\"text-white pr-3 pt-1 text-xl\">دانلود نرم افزار چند صندوقه</p>\n                </div>\n                <div className=\"my-6\">\n                  <p className=\"text-gray-600 text-lg my-4 pr-3\">\n                    در صورتیکه Net Framework 4.8. و SQL Server 2012 و یا نسخه بالاتر بر روی کامپیوتر\n                    خود ندارید نسخه فایل نصب همراه با پیش نیاز را دانلود نمایید.{\" \"}\n                  </p>\n                </div>\n                {multiCashDownloads.map((d) => (\n                  <a\n                    className=\"mx-4 my-4 block text-center lg:inline border bg-orange-500 text-white rounded-full py-2 px-4 shadow-lg\"\n                    href={d.url}\n                  >\n                    {d.title}\n                  </a>\n                ))}\n              </div>\n            )}\n            <div className=\"w-11/12 lg:w-4/5 mx-auto\">\n              <div className=\"my-10 bg-teal-600 h-10\">\n                        <p className=\"text-white pr-3 pt-1 text-xl\"> فعالسازی نرم افزار (آفلاین)</p>\n              </div>\n              <div>\n                <div><span> فایل activation.rvf را که از برنامه دریافت کرده اید در این قسمت بارگذاری کنید.</span></div>\n                <div><input className=\"\" style={{display:\"none\"}} ref={hiddenFileInput}\n                    id=\"file\" type=\"file\" onChange={submit}  /></div>\n                    <button onClick= {handleClick}  className=\"mx-4 my-4 block text-center lg:inline border bg-orange-500 text-white rounded-full py-2 px-4 shadow-lg\">بارگذاری</button>\n                <div><span> سپس فایل activationCode.rsf را که پس از بارگذاری به طور خودکار دانلود می شود برای <a className=\"text-teal-500 bold \" href=\"/offline-software-activation\">فعالسازی نرم افزار</a> استفاده کنید.</span></div>    \n              </div>        \n            </div>\n            <div className=\"my-16 w-11/12 mx-auto\" id=\"no-more-tables\">\n              <div className=\"my-10 bg-teal-600 h-10\">\n                <p className=\"text-white pr-3 pt-1 text-xl\">اطلاعات خرید شما</p>\n              </div>\n              <table className=\"whitespace-no-wrap text-sm lg:text-base mx-auto text-center border-collapse text-gray-700 w-full\">\n                <thead>\n                  <tr className=\"lg:py-4 lg:px-6 bg-green-500 text-white border-2 border-green-500\">\n                    <th>نوع محصول</th>\n                    <th>امکانات جانبی</th>\n                    <th>تاریخ خرید</th>\n                    <th>مبلغ پرداخت شده (تومان)</th>\n                    <th>شماره پیگیری</th>\n                    <th>شناسه فعالسازی</th>\n                    <th>لینک دانلود بکاپ</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {invoices.map((invoice) => (\n                    <tr\n                      key={invoice.objectId}\n                      className=\"whitespace-no-wrap my-8 lg:py-4 lg:px-6 border-2 lg:border-0 lg:border-b-2 border-teal-500 \"\n                    >\n                      <td data-title=\"نوع محصول\" className=\"font-sans\">\n                        {invoice.ProductName || <br />}\n                      </td>\n                      <td data-title=\"امکانات جانبی\" className=\"font-sans\">\n                        {(invoice.EmkanatJanebi !== undefined &&\n                          invoice.EmkanatJanebi.map((e) => {\n                            return (\n                              <span key={e}>\n                                {e}\n                                <br />\n                              </span>\n                            );\n                          })) || <span>----------</span>}\n                      </td>\n                      <td data-title=\"تاریخ خرید\" className=\"font-sans\">\n                        {invoice.Tarikh || <br />}\n                      </td>\n                      <td data-title=\"مبلغ پرداخت شده (تومان)\" className=\"font-sans\">\n                        {invoice.paymentResult === \"OK\"\n                          ? NumberWithCommas(invoice.MablaghTaeedShode / 10)\n                          : \"پرداخت ناموفق\"}\n                      </td>\n                      <td data-title=\"شماره پیگیری\" className=\"font-sans\">\n                        {invoice.ShomarehPeygiri || <br />}\n                      </td>\n                      <td data-title=\"شناسه فعالسازی\" className=\"font-sans\">\n                        {(invoice.ShenasehFaalSazi && (\n                          <>\n                            {Object.keys(invoice.ShenasehFaalSazi).map((key, i) => {\n                              return (\n                                <span key={i}>\n                                  {key === \"-\" ? \"\" : key + \": \"}\n                                  {invoice.ShenasehFaalSazi[key]}\n                                  <br />\n                                </span>\n                              );\n                            })}\n                          </>\n                        )) || <br />}\n                      </td>\n                      <td data-title=\"لینک دانلود بکاپ\" className=\"font-sans\">\n                      {invoice.BackupUrl !== undefined ?  <a\n                      className=\"my-4 block text-center lg:inline border bg-orange-500 text-white rounded-full py-1 px-6 shadow-lg\"\n                      href={invoice.BackupUrl} >دانلود</a>\n                       : <span className=\"px-2\">----------</span> || <br />}\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        )}\n      </div>\n    </Layout>\n  );\n};\n\nexport default Profile;\n"],"sourceRoot":""}